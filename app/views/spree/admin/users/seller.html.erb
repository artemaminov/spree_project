<%= render partial: 'spree/admin/users/sidebar', locals: { current: :seller } %>
<%= render partial: 'spree/admin/users/user_page_actions' %>

<% content_for :page_title do %>
  <%= link_to @user.email, spree.edit_admin_user_url(@user) %> /
  <%= Spree.t(:seller) %>
<% end %>

<div data-hook="admin_user_addresses" id="admin_user_edit_addresses">
  <div data-hook="admin_user_edit_form_header">
    <%= render partial: 'spree/admin/shared/error_messages', locals: { target: @user } %>
  </div>

  <div data-hook="admin_user_address_edit_form">
    <%= form_for [:admin, @user], as: :user, url: seller_admin_user_url(@user), method: :put do |f| %>

  <div class="row">
    <div data-hook="seller_wrapper" class="col-xs-12 col-md-6">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h1 class="panel-title">
            <%= Spree.t(:seller) %>
          </h1>
        </div>

        <div class="panel-body">
          <%= f.fields_for :seller, (@user.seller || Spree::Seller.default(@user)) do |ba_form| %>
          <% ba_form.object ||= Spree::Seller.new(company_name: '') %>

            <%= field_container ba_form.object, :company_name, class: ["form-group"] do %>
              <%= ba_form.label :company_name, Spree.t(:company_name) %>
              <%= ba_form.text_field :company_name, class: 'form-control' %>
              <%= error_message_on ba_form.object, :company_name %>
            <% end %>

            <%= field_container ba_form.object, :company_inn, class: ["form-group"] do %>
              <%= ba_form.label :company_inn, Spree.t(:company_inn) %>
              <%= ba_form.text_field :company_inn, class: 'form-control' %>
              <%= error_message_on ba_form.object, :company_inn %>
            <% end %>

            <%= field_container ba_form.object, :company_address, class: ["form-group"] do %>
              <%= ba_form.label :company_address, Spree.t(:company_address) %>
              <%= ba_form.text_field :company_address, class: 'form-control' %>
              <%= error_message_on ba_form.object, :company_address %>
            <% end %>

            <%= field_container ba_form.object, :company_rs, class: ["form-group"] do %>
              <%= ba_form.label :company_rs, Spree.t(:company_rs) %>
              <%= ba_form.text_field :company_rs, class: 'form-control' %>
              <%= error_message_on ba_form.object, :company_rs %>
            <% end %>

            <%= field_container ba_form.object, :company_bank, class: ["form-group"] do %>
              <%= ba_form.label :company_bank, Spree.t(:company_bank) %>
              <%= ba_form.text_field :company_bank, class: 'form-control' %>
              <%= error_message_on ba_form.object, :company_bank %>
            <% end %>
          
            <%= field_container ba_form.object, :company_kors, class: ["form-group"] do %>
              <%= ba_form.label :company_kors, Spree.t(:company_kors) %>
              <%= ba_form.text_field :company_kors, class: 'form-control' %>
              <%= error_message_on ba_form.object, :company_kors %>
            <% end %>
          <% end %>
        </div>
      </div>
    </div>
  </div>


      <div class="form-actions text-center well" data-hook="admin_user_edit_form_button">
        <%= render partial: 'spree/admin/shared/edit_resource_links', locals: { collection_url: spree.admin_users_url } %>
      </div>
    <% end %>
  </div>
</div>

<%= render 'spree/admin/users/lifetime_stats' %>
