<div data-hook="admin_user_form_fields" class="row">
  <div class="col-12 col-md-6">
    <%= f.field_container :name, class: ['form-group'] do %>
      <%= f.label :email, Spree.t(:name, scope: :user_attributes) %>
      <span>&nbsp;*</span>
      <%= f.text_field :name, class: 'form-control', required: true %>
      <%= f.error_message_on :name%>
    <% end %>

    <%= f.field_container :email, class: ['form-group'] do %>
      <%= f.label :email, Spree.t(:email) %>
      <span>&nbsp;*</span>

      <%= f.email_field :email, class: 'form-control', required: true, pattern: '[a-zA-Z0-9.!#$%&amp;â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)+', placeholder: 'Email' %>
      <%= f.error_message_on :email %>
    <% end %>

    <%= f.field_container :phone_number, class: ['form-group'] do %>
      <%= f.label :phone_number, Spree.t(:phone_number, scope: :user_attributes) %>
      <span>&nbsp;*</span>
      <%= f.telephone_field :phone_number, class: 'form-control', required: true, pattern: '\d{11}', placeholder: '7XXXXXXXXXX' %>
      <%= f.error_message_on :phone_number%>
    <% end %>

    <%= f.field_container :user_type, class: ['form-group'] do %>
      <%= f.label :user_type, Spree.t(:user_type, scope: :user_attributes) %>
      <%= f.select(:user_type, Spree::User.user_types.map{|t| [Spree.t(t[0], scope: "user_attributes.user_types"), t[0]]}, { include_blank: false }, { class: 'select2' }) %>
    <% end %>

    <div data-hook="admin_user_form_roles" class="form-group">
      <strong><%= Spree.t(:roles) %></strong>
      <%= f.collection_check_boxes :spree_role_ids, Spree::Role.all, :id, :name do |role_form| %>
        <div class="checkbox">
          <%= role_form.label for: "user_spree_role_#{role_form.object.name}" do %>
            <%= role_form.check_box id: "user_spree_role_#{role_form.object.name}" %>
            <%= role_form.object.name %>
          <% end %>
        </div>
      <% end %>
    </div>

    <div id="entity_fields" style="display: <%= f.object.user_type == 'private_user' ? 'none' : 'block'%>;">
      <%= render partial: 'entity_form', locals: { f: f } %>
    </div>

  </div>

  <div data-hook="admin_user_form_password_fields" class="col-12 col-md-6">
    <%= f.field_container :password, class: ['form-group'] do %>
      <%= f.label :password, Spree.t(:password) %>
      <%= f.password_field :password, class: 'form-control' %>
      <%= f.error_message_on :password %>
    <% end %>

    <%= f.field_container :password_confirmation, class: ['form-group'] do %>
      <%= f.label :password_confirmation, Spree.t(:confirm_password) %>
      <%= f.password_field :password_confirmation, class: 'form-control' %>
      <%= f.error_message_on :password_confirmation %>
    <% end %>
  </div>
</div>